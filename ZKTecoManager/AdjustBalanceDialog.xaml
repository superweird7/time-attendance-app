<Window x:Class="ZKTecoManager.AdjustBalanceDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="تعديل الرصيد - Adjust Balance" Height="350" Width="420"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        Background="Transparent"
        AllowsTransparency="True"
        ResizeMode="NoResize"
        FlowDirection="RightToLeft">

    <Border CornerRadius="12" Background="White">
        <Border.Effect>
            <DropShadowEffect Color="#1F2937" Opacity="0.2" ShadowDepth="5" BlurRadius="15"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="50"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" CornerRadius="12,12,0,0" MouseLeftButtonDown="TitleBar_MouseLeftButtonDown">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#F59E0B" Offset="0"/>
                        <GradientStop Color="#D97706" Offset="1"/>
                    </LinearGradientBrush>
                </Border.Background>

                <Grid>
                    <TextBlock Text="تعديل الرصيد" FontSize="16" FontWeight="Bold" Foreground="White"
                               VerticalAlignment="Center" HorizontalAlignment="Right" Margin="20,0"/>
                    <Button Content="✕" Click="CloseButton_Click"
                            HorizontalAlignment="Left" VerticalAlignment="Center"
                            Margin="10,0" Width="28" Height="28"
                            Background="Transparent" Foreground="White"
                            BorderThickness="0" Cursor="Hand" FontSize="12"/>
                </Grid>
            </Border>

            <!-- Form -->
            <StackPanel Grid.Row="1" Margin="25,20">
                <!-- Employee & Leave Type Info -->
                <Border Background="#F9FAFB" CornerRadius="8" Padding="12" Margin="0,0,0,15">
                    <StackPanel>
                        <TextBlock x:Name="EmployeeInfoText" FontSize="13" Foreground="#374151"/>
                        <TextBlock x:Name="LeaveTypeText" FontSize="13" Foreground="#6B7280" Margin="0,4,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Current Balance -->
                <StackPanel Orientation="Horizontal" Margin="0,0,0,15">
                    <TextBlock Text="الرصيد الحالي:" FontSize="13" Foreground="#6B7280"/>
                    <TextBlock x:Name="CurrentBalanceText" FontSize="14" FontWeight="Bold" Foreground="#059669" Margin="8,0,0,0"/>
                    <TextBlock Text=" يوم" FontSize="13" Foreground="#6B7280"/>
                </StackPanel>

                <!-- Adjustment Amount -->
                <TextBlock Text="مقدار التعديل (+ للإضافة، - للخصم)" FontSize="13" FontWeight="SemiBold" Foreground="#374151" Margin="0,0,0,8"/>
                <TextBox x:Name="AdjustmentTextBox" Height="40" FontSize="14" Padding="10,8"
                         BorderBrush="#D1D5DB" BorderThickness="1"/>

                <!-- Reason -->
                <TextBlock Text="السبب" FontSize="13" FontWeight="SemiBold" Foreground="#374151" Margin="0,15,0,8"/>
                <TextBox x:Name="ReasonTextBox" Height="60" FontSize="14" Padding="10,8"
                         TextWrapping="Wrap" AcceptsReturn="True"
                         BorderBrush="#D1D5DB" BorderThickness="1"/>
            </StackPanel>

            <!-- Footer Buttons -->
            <Border Grid.Row="2" Background="#F9FAFB" CornerRadius="0,0,12,12" Padding="20,12">
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left" FlowDirection="LeftToRight">
                    <Button Click="SaveButton_Click" Height="38" Padding="25,0" Cursor="Hand"
                            Background="#F59E0B" Foreground="White" BorderThickness="0" FontSize="13" FontWeight="SemiBold">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock Text="حفظ التعديل"/>
                    </Button>

                    <Button Click="CloseButton_Click" Height="38" Padding="25,0" Cursor="Hand" Margin="10,0,0,0"
                            Background="#6B7280" Foreground="White" BorderThickness="0" FontSize="13" FontWeight="SemiBold">
                        <Button.Template>
                            <ControlTemplate TargetType="Button">
                                <Border Background="{TemplateBinding Background}" CornerRadius="6">
                                    <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Button.Template>
                        <TextBlock Text="إلغاء"/>
                    </Button>
                </StackPanel>
            </Border>
        </Grid>
    </Border>
</Window>
